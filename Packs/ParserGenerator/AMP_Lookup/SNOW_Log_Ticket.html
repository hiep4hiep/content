
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample HTML Document</title>
</head>
<body>
<table>
        
</table>

<h3>ServiceNow - Log Ticket</h3><h4>Task 0:</h4><br><strong>- Type: start</strong><br><strong>- Name:</strong> <br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 0<br><strong>- Type:</strong> start<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 1:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Search for an existing ticket in ServiceNow<br><strong>- Description:</strong> Retrieves ticket information according to the supplied query.<br><strong>- Script:</strong> |||servicenow-query-tickets<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;limit: 1<br>&nbsp;&nbsp;query: active=true^correlation_display=${inputs.correlationdisplay}^state!=6^state!=9^ORDERBYDESCsys_created_on<br>&nbsp;&nbsp;ticket_type: ${inputs.tickettype}<br>&nbsp;&nbsp;using: ${inputs.InstanceName}<br><strong>- Id:</strong> 1<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 2:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> Duplicate Exists?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 2<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isExists', 'left': {'value': {'simple': 'Ticket.ID'}, 'iscontext': True}, 'right': {'value': {}}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 3:</h4><br><strong>- Type: playbook</strong><br><strong>- Name:</strong> Create ServiceNow Ticket - Vanilla<br><strong>- Description:</strong> Create ServiceNow Ticket allows you to open new tickets as a task from a parent playbook.
When creating the ticket, you can decide to update based on on the ticket's state, which will wait for the ticket to resolve or close with StatePolling. 
Alternatively, you can select to mirror the ServiceNow ticket and incident fields.  To apply either of these options, set the SyncTicket value in the playbook inputs to one of the following options: 
1. StatePolling
2. Mirror
3. Leave Blank to use none.<br><strong>- Playbookname:</strong> Create ServiceNow Ticket - Vanilla<br><strong>- Type:</strong> playbook<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;CallerInfo: ${inputs.caller}<br>&nbsp;&nbsp;Category: ${inputs.category}<br>&nbsp;&nbsp;Comment: ${inputs.ticketbody}<br>&nbsp;&nbsp;ContactType: ${inputs.ContactType}<br>&nbsp;&nbsp;Description: ${inputs.description}<br>&nbsp;&nbsp;FieldPolling: false<br>&nbsp;&nbsp;Impact: ${inputs.impact}<br>&nbsp;&nbsp;InstanceName: ${inputs.InstanceName}<br>&nbsp;&nbsp;MirrorCommentTags: comments,work_notes,ForServiceNow<br>&nbsp;&nbsp;MirrorDirection: Both<br>&nbsp;&nbsp;SetCaller: true<br>&nbsp;&nbsp;ShortDescription: ${inputs.shortdescription}<br>&nbsp;&nbsp;SubCategory: ${inputs.subcategory}<br>&nbsp;&nbsp;TicketBodyIsWorkNote: false<br>&nbsp;&nbsp;TicketType: ${inputs.tickettype}<br>&nbsp;&nbsp;Urgency: ${inputs.urgency}<br><strong>- Id:</strong> 3<br><strong>- Type:</strong> playbook<br><strong>- Loop:</strong> {'iscommand': False, 'exitCondition': '', 'wait': 1, 'max': 100}<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 4:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Update ticket fields<br><strong>- Description:</strong> Updates the specified ticket.<br><strong>- Script:</strong> |||servicenow-update-ticket<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;correlation_display: ${inputs.correlationdisplay}<br>&nbsp;&nbsp;correlation_id: ${inputs.correlationid}<br>&nbsp;&nbsp;id: ${ServiceNow.Ticket.ID}<br>&nbsp;&nbsp;ticket_type: ${inputs.tickettype}<br>&nbsp;&nbsp;using: ${inputs.InstanceName}<br><strong>- Id:</strong> 4<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 5:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Update Ticket notes <br><strong>- Description:</strong> Adds a comment to the specified ticket, by ticket ID.<br><strong>- Script:</strong> |||servicenow-add-comment<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;comment: ${inputs.ticketbodyupdate}<br>&nbsp;&nbsp;id: ${Ticket.ID}<br>&nbsp;&nbsp;post-as-comment: {'complex': {'root': 'inputs.TicketBodyIsWorkNote', 'transformers': [{'operator': 'toLowerCase'}]}}<br>&nbsp;&nbsp;ticket_type: ${inputs.tickettype}<br>&nbsp;&nbsp;using: ${inputs.InstanceName}<br><strong>- Id:</strong> 5<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 6:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> Done<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 6<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 7:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Set critical ticket fields in incident<br><strong>- Description:</strong> commands.local.cmd.set.incident<br><strong>- Script:</strong> Builtin|||setAlert<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;ticketnumber: ${Ticket.Number}<br><strong>- Id:</strong> 7<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 9:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> Assignment Group<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 9<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 11:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> Correlation Fields<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 11<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 12:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Set the assignment group explicitly<br><strong>- Description:</strong> Updates the specified ticket.<br><strong>- Script:</strong> |||servicenow-update-ticket<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;assignment_group: ${inputs.assignmentgroup}<br>&nbsp;&nbsp;id: ${ServiceNow.Ticket.ID}<br>&nbsp;&nbsp;ticket_type: ${inputs.tickettype}<br>&nbsp;&nbsp;using: ${inputs.InstanceName}<br><strong>- Id:</strong> 12<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 13:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> Configuration Item<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 13<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 14:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Set configuration item<br><strong>- Description:</strong> Updates the specified ticket.<br><strong>- Script:</strong> |||servicenow-update-ticket<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;cmdb_ci: ${inputs.configuration_item}<br>&nbsp;&nbsp;id: ${ServiceNow.Ticket.ID}<br>&nbsp;&nbsp;ticket_type: ${inputs.tickettype}<br>&nbsp;&nbsp;using: ${inputs.InstanceName}<br><strong>- Id:</strong> 14<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 15:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> Duplicate - Update Ticket<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 15<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 16:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> New SR Ticket Created<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 16<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 17:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> The correlation ID is defined?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 17<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isExists', 'left': {'value': {'complex': {'root': 'inputs.correlationid', 'filters': [[{'operator': 'isExists', 'left': {'value': {'simple': 'inputs.correlationid'}, 'iscontext': True}}], [{'operator': 'isNotEmpty', 'left': {'value': {'simple': 'inputs.correlationid'}, 'iscontext': True}}]]}}, 'iscontext': True}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 18:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> The correlation ID is defined?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 18<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isExists', 'left': {'value': {'complex': {'root': 'inputs.correlationid', 'filters': [[{'operator': 'isExists', 'left': {'value': {'simple': 'inputs.correlationid'}, 'iscontext': True}}], [{'operator': 'isNotEmpty', 'left': {'value': {'simple': 'inputs.correlationid'}, 'iscontext': True}}]]}}, 'iscontext': True}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 19:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> Assignment group defined?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 19<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isExists', 'left': {'value': {'complex': {'root': 'inputs.assignmentgroup', 'filters': [[{'operator': 'isExists', 'left': {'value': {'simple': 'inputs.assignmentgroup'}, 'iscontext': True}}], [{'operator': 'isNotEmpty', 'left': {'value': {'simple': 'inputs.assignmentgroup'}, 'iscontext': True}}]]}}, 'iscontext': True}, 'right': {'value': {}}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br></body></html>
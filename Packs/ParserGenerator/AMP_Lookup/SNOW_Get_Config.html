
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample HTML Document</title>
</head>
<body>
<table>
        
</table>

<h3>ServiceNow - Get Configuration Item v2</h3><h4>Task 0:</h4><br><strong>- Type: start</strong><br><strong>- Name:</strong> <br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 0<br><strong>- Type:</strong> start<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 1:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Search<br><strong>- Description:</strong> Queries the specified table in ServiceNow.<br><strong>- Script:</strong> |||servicenow-query-table<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;extend-context: ServiceNow.Record.AssignmentGroup=result.assignment_group.value<br>&nbsp;&nbsp;ignore-outputs: false<br>&nbsp;&nbsp;limit: 1<br>&nbsp;&nbsp;query: ${inputs.query}<br>&nbsp;&nbsp;table_name: ${inputs.table_name}<br>&nbsp;&nbsp;using: SNOW - Dev - ampaudev.service-now.com<br><strong>- Id:</strong> 1<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 2:</h4><br><strong>- Type: title</strong><br><strong>- Name:</strong> Done<br><strong>- Type:</strong> title<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 2<br><strong>- Type:</strong> title<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 3:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> Found?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 3<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isExists', 'left': {'value': {'simple': 'ServiceNow.Record.ID'}, 'iscontext': True}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 4:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Query computer<br><strong>- Description:</strong> Queries the cmdb_ci_computer table in ServiceNow.<br><strong>- Script:</strong> ServiceNow v2|||servicenow-query-computers<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;computer_id: ${ServiceNow.Record.ID}<br>&nbsp;&nbsp;limit: 1<br>&nbsp;&nbsp;using: SNOW - Dev - ampaudev.service-now.com<br><strong>- Id:</strong> 4<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 5:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Query user<br><strong>- Description:</strong> Queries the sys_user table in ServiceNow.<br><strong>- Script:</strong> ServiceNow v2|||servicenow-query-users<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;user_id: ${ServiceNow.Computer.AssignedTo}<br>&nbsp;&nbsp;using: SNOW - Dev - ampaudev.service-now.com<br><strong>- Id:</strong> 5<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 6:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> Query user?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 6<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isEqualString', 'left': {'value': {'complex': {'root': 'inputs.query_user', 'transformers': [{'operator': 'toLowerCase'}]}}, 'iscontext': True}, 'right': {'value': {'simple': 'yes'}}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 7:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Search Assignment Group<br><strong>- Description:</strong> Queries the sys_user_group table in ServiceNow.<br><strong>- Script:</strong> |||servicenow-query-groups<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> True<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;group_id: ${ServiceNow.Record.AssignmentGroup.[0]}<br>&nbsp;&nbsp;using: SNOW - Dev - ampaudev.service-now.com<br><strong>- Id:</strong> 7<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 8:</h4><br><strong>- Type: condition</strong><br><strong>- Name:</strong> If Assignment group is found?<br><strong>- Type:</strong> condition<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Id:</strong> 8<br><strong>- Type:</strong> condition<br><strong>- Conditions:</strong> [{'label': 'yes', 'condition': [[{'operator': 'isNotEmpty', 'left': {'value': {'simple': 'ServiceNow.Record.AssignmentGroup'}, 'iscontext': True}, 'right': {'value': {}}}]]}]<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 10:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Set static Assignment group<br><strong>- Description:</strong> Set a value in context under the key you entered. If no value is entered, the script doesn't do anything.

This automation runs using the default Limited User role, unless you explicitly change the permissions.
For more information, see the section about permissions here:
https://docs-cortex.paloaltonetworks.com/r/Cortex-XSOAR/6.10/Cortex-XSOAR-Administrator-Guide/Automations<br><strong>- Scriptname:</strong> SetAndHandleEmpty<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;key: ServiceNow.Group.Name<br>&nbsp;&nbsp;value: {'complex': {'root': 'AssignmentGroupList', 'filters': [[{'operator': 'isEqualString', 'left': {'value': {'simple': 'AssignmentGroupList.AccountID'}, 'iscontext': True}, 'right': {'value': {'simple': 'alert.awsaccountid'}, 'iscontext': True}}]], 'accessor': 'AssignmentGroup', 'transformers': [{'operator': 'SetIfEmpty', 'args': {'applyIfEmpty': {}, 'defaultValue': {'value': {'simple': 'AMP_CDC_MSS_NTT_SNow'}}}}]}}<br><strong>- Id:</strong> 10<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br><h4>Task 11:</h4><br><strong>- Type: regular</strong><br><strong>- Name:</strong> Get Assignment Group List<br><strong>- Description:</strong> Set a value in context under the key you entered. If no value is entered, the script doesn't do anything.

This automation runs using the default Limited User role, unless you explicitly change the permissions.
For more information, see the section about permissions here:
https://docs-cortex.paloaltonetworks.com/r/Cortex-XSOAR/6.10/Cortex-XSOAR-Administrator-Guide/Automations<br><strong>- Scriptname:</strong> SetAndHandleEmpty<br><strong>- Type:</strong> regular<br><strong>- Integration Command/Builtin Script:</strong> False<br><strong>- Script Arguments:</strong><br>&nbsp;&nbsp;key: AssignmentGroupList<br>&nbsp;&nbsp;value: ${lists.ASSIGNMENT_GROUP}<br><strong>- Id:</strong> 11<br><strong>- Type:</strong> regular<br><strong>- Note:</strong> False<br><strong>- Quiet Mode:</strong> On<br></body></html>